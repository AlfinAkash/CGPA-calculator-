<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>CGPA Calculator</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            poppins: ['Poppins', 'sans-serif'],
          }
        }
      }
    }
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet" />
</head>
<body class="bg-gradient-to-tr from-pink-400 via-yellow-200 to-rose-300 min-h-screen flex items-center justify-center font-poppins">

  <!-- Side menu -->
  <div id="sideMenu" class="fixed top-0 right-0 h-full w-64 bg-white shadow-lg transform translate-x-full transition-transform duration-300 z-50 p-6">
    <button onclick="toggleMenu()" class="text-red-500 text-2xl font-bold absolute top-4 right-4">&times;</button>
    <div class="mt-12 flex flex-col items-center gap-6">
      <a href="https://www.instagram.com/a.alfinakash" target="_blank" class="text-pink-600 text-xl hover:underline">Instagram</a>
      <a href="https://www.twitter.com/AlfinAkash" target="_blank" class="text-blue-500 text-xl hover:underline">Twitter</a>
      <a href="https://www.linkedin.com/in/AlfinAkash" target="_blank" class="text-blue-700 text-xl hover:underline">LinkedIn</a>
      <a href="https://github.com/AlfinAkash" target="_blank" class="text-gray-800 text-xl hover:underline">GitHub</a>
    </div>
  </div>

  <div class="container max-w-4xl bg-white p-8 rounded-2xl shadow-2xl relative w-full mx-4">
    <!-- Hamburger -->
    <button onclick="toggleMenu()" class="absolute top-6 right-6 z-40 block md:hidden">
      <div class="space-y-1">
        <div class="w-6 h-0.5 bg-black"></div>
        <div class="w-6 h-0.5 bg-black"></div>
        <div class="w-6 h-0.5 bg-black"></div>
      </div>
    </button>

    <h1 class="text-3xl font-bold text-center text-blue-900 mb-8">CGPA Calculator</h1>
    <form id="cgpa-form" class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div class="space-y-4">
        <InputWithLabel label="Semester 1 GPA" id="semester1" />
        <InputWithLabel label="Semester 2 GPA" id="semester2" />
        <InputWithLabel label="Semester 3 GPA" id="semester3" />
        <InputWithLabel label="Semester 4 GPA" id="semester4" />
      </div>
      <div class="space-y-4">
        <InputWithLabel label="Semester 5 GPA" id="semester5" />
        <InputWithLabel label="Semester 6 GPA" id="semester6" />
        <InputWithLabel label="Semester 7 GPA" id="semester7" />
        <InputWithLabel label="Semester 8 GPA" id="semester8" />
      </div>
    </form>

    <div class="mt-8 text-center">
      <button onclick="calculateCGPA()" class="px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">Calculate CGPA</button>
      <div id="cgpa-result" class="mt-4 text-2xl font-bold text-green-600"></div>
    </div>
  </div>

  <script>
    function toggleMenu() {
      const menu = document.getElementById("sideMenu");
      menu.classList.toggle("translate-x-full");
    }

    function isNumeric(value) {
      return /^\d+(\.\d+)?$/.test(value);
    }

    function calculateCGPA() {
      const filledFields = [];
      for (let i = 1; i <= 8; i++) {
        const val = document.getElementById("semester" + i).value;
        if (val !== '') {
          const mark = parseFloat(val);
          if (mark < 0 || mark > 10 || !isNumeric(val)) {
            alert("Please enter valid GPA (0-10) for Semester " + i);
            return;
          }
          filledFields.push(mark * 10);
        }
      }

      if (filledFields.length === 0) {
        alert("Please enter at least one semester GPA.");
        return;
      }

      const cgpa = (filledFields.reduce((a, b) => a + b, 0) / filledFields.length / 10).toFixed(2);
      document.getElementById("cgpa-result").textContent = "CGPA: " + cgpa;
    }

    // Reusable input with label
    function InputWithLabel({ label, id }) {
      document.write(`
        <div>
          <label class="block font-semibold mb-1" for="${id}">${label}</label>
          <input type="text" id="${id}" maxlength="5" class="w-full px-3 py-2 border-b-2 border-blue-400 focus:outline-none focus:border-blue-600 transition" />
        </div>
      `);
    }
  </script>
</body>
</html>
